@import 'modules/_breakpoints';
@import 'modules/_typography';
@import 'modules/_palette';
@import 'modules/_grid-system';
@import 'modules/_mq';
@import 'modules/_side-margins';
@import 'margins';

$nhsGreen: #69D1CA;
$nhsDarkGreen: #41B2AA;

$guardianBlue: #005689;
$nhsLightBlue: #197CAA;
$nhsDarkerBlue: #126A93;
$nhsDarkBlue: #146388;


$nhsWhite: #fff;

body {
    margin: 0;
    padding: 0;
}

// Remove <figure> margin
.interactive {
    margin: 0;

    .gv-wrapper{
    	position: relative;
    }
    *, * *{
    	box-sizing:border-box;
    }
    h1,h2,h3,h4,h5{
    	font-family:$f-serif-headline;
    }
    #interactive-header{
    	background-color: $nhsGreen;
    	padding:30px 10px 20px;

    	h1{
    		color:$guardianBlue;
    		margin:0;
    		line-height:1em;
    		font-size:30px;
    	}

    	h2{
    		color:$nhsWhite;
    		font-weight:100;
    		line-height:1em;
    		font-size:40px;
    		margin:0;
    		max-width:540px;
    	}

    	#header-details-container{
    		margin-top:80px;
    		p{
    			font-family:$f-serif-headline;
    			line-height:1em;
    			margin:0;
    		}
    	}
    }

    #interactive-content{
    	padding:0 10px;
    	position: relative;
    }

    #questions-container{
    	margin-top:40px;
    	.question-container{
    		min-height:0;
    		transition: min-height 0.6s, background-color 0.6s;
    		position: relative;

    		&.order-0{
    			background-color:$nhsDarkGreen;
    			margin-right:20px;
    		}
    		&.order-1{
    			background-color:$nhsGreen;
    			margin-left:20px;
    		}
    		.question-intro{
    			color:$nhsWhite;
    			padding:24px 10px;
    			margin-left:30px;
    			position: relative;
    			cursor: pointer;
    			&:hover{
    				h3{
    					text-decoration: underline;
    				}
    			}
    		}
    		h3{
    			font-size:16px;
    			line-height:1.1em;
    			margin:0;
    		}
    		h4{
    			margin:0;
    			font-family:$f-sans-serif-text;
    			font-size:12px;
    			font-weight:normal;
    		}
    		.question-radio-button{
    			width:20px;
    			height:20px;
    			background:$nhsWhite;
    			border-radius:30px;
    			display:block;
    			position: absolute;
    			left:-20px;
    			top:50%;
    			margin-top:-10px;
    			border: 1px solid $nhsDarkGreen;
    			&:before{
    				width:14px;
    				height:14px;
    				margin-top:2px;
    				margin-left:2px;
    				background: $nhsDarkBlue;
    				content: '';
    				display:block;
    				border-radius:30px;
    				transform: scale(0);
    				transition: transform 100ms;
    			}
    		}
    		.hidden-container{
    			opacity:0;
    			position: absolute;
    			z-index:-2;
    			padding:1px 10px 6px;
    			ul{
    				margin:0;
    			}
    		}
    	}
    	.state-expanded{
    		&.order-0{
    			background-color: $nhsDarkerBlue;
    		}
    		&.order-1{
    			background-color: $nhsLightBlue;
    		}

    		.hidden-container{
    			animation: appear 1s;
    			z-index:1;
    			opacity:1;
    			position:relative;
    		}
    		.question-radio-button{
    			border-color: $nhsDarkBlue;
    			&:before{
    				transform: scale(1);
    			}
    		}
    		.question-intro{
    			&:hover{
    				h3{
    					text-decoration: none;
    				}
    			}
    		}
    	}

    	.state-collapsed{
    		.hidden-container{
    			animation: disappear 1s;
    			opacity:0;
    			position:absolute;
    		}
    	}
    	.treatment-list{
    		padding:0;
    		list-style:none;
    		li{
    			color:$nhsWhite;
    			font-size:14px;
    			font-family: $f-serif-headline;
    			font-weight:bold;
    			line-height:1em;
    			padding: 12px 0;
    			border-top:1px solid rgba(255,255,255,0.5);
    			cursor:pointer;
    			position: relative;
    			
    			&:after{
    				clear:both;
    				content:'';
    				display:block;
    			}
    			&:hover{
    				text-decoration: underline;
    			}
    			.treatment-radio-button{
    				width:12px;
    				height:12px;
    				border-radius:10px;
    				border:1px solid $nhsDarkBlue;
    				display:block;
    				background-color:#fff;
    				float:left;
    				left:0;
    				position: absolute;
    				&:before{
    					display:block;
    					width:6px;
    					height:6px;
    					border-radius:6px;
    					content:'';
    					margin-left:2px;
    					margin-top:2px;
    					background-color:$nhsDarkBlue;
    					transform: scale(0);
    					transition:transform 100ms;
    				}
    			}
    			&.added{
    				.treatment-radio-button:before{
    					transform: scale(1);
    				}
    			}
    			.treatment-price{
    				position: absolute;
    				right:0;
    				top:12px;
    				font-weight:100;
    				width:60px;
    				text-align: right;
    			}
    			.treatment-name{
    				padding-right:80px;
    				padding-left:22px;
    				display:inline-block;
    			}
    		}
    	}
    }
    #receipt-container{
    	position: fixed;
    	background:#fff;
    	bottom:10px;
    	right:10px;
    	padding:10px;
    	box-shadow: 0 2px 2px rgba(0,0,0,0.2);
    	p{
    		font-family: $f-sans-serif-text;
    		font-size:12px;
    		margin:0;
    		width:100px;
    		float:left;
    		line-height:1.2em;
    	}
    	h5{
    		font-size:24px;
    		color:$nhsLightBlue;
    		margin:0;
    		float:right;
    		width:80px;
    		text-align:right;
    		line-height:1em;
    	}

    	#total-breakdown{
    		display:none;
    	}
    }
    @media(min-width:breakpoints(mobileLandscape)){
    	 #interactive-header{
        	padding-left:20px;
        	padding-right:20px;
        }

        #interactive-content{
	    	padding:0 20px;
	    }

	    #questions-container{
	    	.question-container{
	    		&.order-0{
	    			margin-right:80px;
	    		}
	    		&.order-1{
	    			margin-left:80px;
	    		}
	    		h3{
	    			font-size:20px;
	    		}
	    		h4{
	    			font-size:14px;
	    		}
	    	}
	    	.treatment-list{
	    		li{
	    			font-size:16px;
	    			.treatment-radio-button{
	    				width:14px;
	    				height:14px;
	    				&:before{
	    					width:8px;
	    					height:8px;
	    				}
	    			}
	    		}
	    	}
	    }
    }

    @media ( min-width: breakpoints(phablet) ) {
        #interactive-header{
        	h1{
        		font-size:36px;
        	}
        	h2{
        		font-size:60px;
        	}
        }

        #questions-container{
        	margin-right:240px;
        }

	    .treatment-list{
    		li{
    			font-size:16px;
    			padding: 14px 0;
    		}
    	}

    	#receipt-container{
    		position: absolute;
    		right:20px;
    		width:220px;
    		bottom:auto;
    		top:0;
    		#total-breakdown{
    			display:block;	
    		}
    	}
    }

    @media ( min-width: breakpoints(tablet) ) { //740px
		#questions-container{
	    	max-width:460px;
	    }
    }

    @media ( min-width: breakpoints(desktop) ) {
    	#interactive-header{
    		h1,h2,#header-details-container{
    			margin-left:80px;
    		}
    	}
    	#questions-container{
	    	max-width:620px;
	    }
	    #receipt-container{
	    	width:300px;
	    }
    }

    @media ( min-width: breakpoints(leftCol) ) { //1140px
    	#questions-container{
	    	max-width:780px;

	    	.question-container{
	    		h3{
	    			font-size:24px;
	    		}
	    		.question-intro{
	    			padding:36px 20px 36px 30px;
	    			margin-left:40px;
	    		}
	    		.question-radio-button{
	    			width:31px;
	    			height:31px;
	    			margin-top:-16px;
	    			&:before{
	    				margin-left:3px;
	    				margin-top:3px;
	    				width:23px;
	    				height:23px;
	    			}
	    		}
	    		.hidden-container{
	    			padding-left:20px;
	    			padding-right:20px;
	    		}
	    	}
	    	.treatment-list{
	    		column-count:2;
	    		li{
	    			padding:16px 0;
	    			font-size:18px;
	    			-webkit-column-break-inside: avoid;
	    			.treatment-price{
	    				top:16px;
	    			}
	    			.treatment-name{
	    				padding-top:2px;
	    				padding-left:30px;
	    			}
	    			.treatment-radio-button{
	    				width:20px;
	    				height:20px;
	    				border-radius:20px;
	    				&:before{
	    					width:12px;
	    					height:12px;
	    					margin-left:3px;
	    					margin-top:3px;
	    				}
	    			}
	    		}
	    	}
	    }
    }

    @media ( min-width: breakpoints(wide) ) {
    	#interactive-header{
    		h1,h2,#header-details-container{
    			margin-left:160px;
    		}
    	}
    	#questions-container{
	    	margin-left:80px;
	    }
	     #receipt-container{
	    	right:100px;
	    }
    }
}


@keyframes appear{
	0%{
		opacity:0;
		position:absolute;
	}
	60%{
		opacity:0;
		position:absolute;
	}
	65%{
		opacity:0;
		position:relative;
	}
	85%{
		opacity:1;
	}
}

@keyframes disappear{
	0%{
		opacity:1;
		position:relative;
	}
	20%{
		opacity:0;
		position:absolute;
	}
}
